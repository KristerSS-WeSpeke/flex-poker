<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:flex="http://www.springframework.org/schema/flex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/flex http://www.springframework.org/schema/flex/spring-flex-1.0.xsd">
 
	<flex:message-broker services-config-path="/WEB-INF/classes/services-config.xml">
		<flex:message-service default-channels="my-streaming-amf,my-longpolling-amf,my-polling-amf" />
		<flex:secured />
	</flex:message-broker>

	<!-- Expose the productService bean for BlazeDS remoting -->
	<flex:remoting-destination ref="productService" />

	<!-- Expose the contactService bean for BlazeDS remoting -->
	<flex:remoting-destination ref="contactService" />

	<!-- Expost the securedProductService bean for BlazeDS remoting -->
	<flex:remoting-destination ref="securedProductService" />

	<flex:jms-message-destination id="jms-chat" jms-destination="chatTopic" /> 	<!-- See configuration of "chatTopic" in /WEB-INF/spring/infrastructure-context.xml -->

	<!-- MessageTemplate makes it easy to publish messages -->
	<bean id="defaultMessageTemplate" class="org.springframework.flex.messaging.MessageTemplate" />

</beans>

