<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml"
   creationComplete="initializeEvents()">

    <mx:Style>
        .actionOnTrue {
            background-color:#369336;
        }
        .actionOnFalse {
            background-color:#bc2e2e;
        }
    </mx:Style>

    <mx:Script>
    <![CDATA[
        import com.flexpoker.model.UserGameStatus;
        import com.flexpoker.events.ActionOnChangedEvent;
        import mx.controls.Alert;
        import com.flexpoker.model.TableImages;
        import com.flexpoker.model.PocketCards;
        import com.flexpoker.model.Deck;

        [Bindable]
        public var userGameStatus:UserGameStatus;

        private var _actionOn:Boolean;

        [Bindable]
        public var dealer:Boolean;

        [Bindable]
        public var smallBlind:Boolean;

        [Bindable]
        public var bigBlind:Boolean;

        [Bindable]
        public var pocketCardImage1:Class;

        [Bindable]
        public var pocketCardImage2:Class;

        [Bindable]
        public var chipsInFront:int;

        public function set actionOn(actionOn:Boolean):void {
            _actionOn = actionOn;
            dispatchEvent(new ActionOnChangedEvent());
        }

        public function set requiredShowCard(requiredShowCard:PocketCards):void {
            var deck:Deck = Deck.getInstance();
            pocketCardImage1 = deck.getCardImage(requiredShowCard.card1);
            pocketCardImage2 = deck.getCardImage(requiredShowCard.card2);
        }

        private function initializeEvents():void {
            addEventListener(ActionOnChangedEvent.NAME, actionOnChanged);
            styleName = "actionOnFalse";
        }

        private function actionOnChanged(event:ActionOnChangedEvent):void {
            if (_actionOn) {
                styleName = "actionOnTrue";
            } else {
                styleName = "actionOnFalse";
            }
        }

    ]]>
    </mx:Script>

    <mx:HBox width="100%">
        <mx:Image id="myPocketCard1" height="100%" width="100%" source="{pocketCardImage1}" maintainAspectRatio="true" />
        <mx:Image id="myPocketCard2" height="100%" width="100%" source="{pocketCardImage2}" maintainAspectRatio="true" />
    </mx:HBox>

    <mx:Label text="{userGameStatus.user.username}" />
    <mx:Label text="{userGameStatus.chips}" />
    <mx:HBox>
        <mx:Spacer width="100%" />
        <mx:Image source="{TableImages.getInstance().getButtonImage()}" visible="{dealer}" />
        <mx:Image source="{TableImages.getInstance().getSmallBlindImage()}" visible="{smallBlind}" />
        <mx:Image source="{TableImages.getInstance().getBigBlindImage()}" visible="{bigBlind}" />
        <mx:Spacer width="100%" />
     </mx:HBox>
     <mx:Label text="{chipsInFront}" visible="{chipsInFront != 0}" />

</mx:VBox>
